<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yushanjin&#39;s Blog</title>
  
  <subtitle>Welcome To My Blog</subtitle>
  <link href="https://yushanjin.github.io/atom.xml" rel="self"/>
  
  <link href="https://yushanjin.github.io/"/>
  <updated>2020-11-30T02:42:25.604Z</updated>
  <id>https://yushanjin.github.io/</id>
  
  <author>
    <name>Yushanjin</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>kindå¿«é€Ÿéƒ¨ç½²Kubernetesç¯å¢ƒ</title>
    <link href="https://yushanjin.github.io/2020/11/26/kind%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2Kubernetes%E7%8E%AF%E5%A2%83/"/>
    <id>https://yushanjin.github.io/2020/11/26/kind%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2Kubernetes%E7%8E%AF%E5%A2%83/</id>
    <published>2020-11-26T08:56:12.000Z</published>
    <updated>2020-11-30T02:42:25.604Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯kind"><a href="#ä»€ä¹ˆæ˜¯kind" class="headerlink" title="ä»€ä¹ˆæ˜¯kind"></a>ä»€ä¹ˆæ˜¯kind</h1><p>kindï¼šKubernetes In Dockerï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å°†kubernetesæ‰€éœ€è¦çš„æ‰€æœ‰ç»„ä»¶ï¼Œå…¨éƒ¨éƒ¨ç½²åœ¨ä¸€ä¸ªdockerå®¹å™¨ä¸­ï¼Œæ˜¯ä¸€å¥—å¼€ç®±å³ç”¨çš„kubernetesç¯å¢ƒæ­å»ºæ–¹æ¡ˆã€‚ä½¿ç”¨kindæ­å»ºçš„é›†ç¾¤æ— æ³•åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨ï¼Œä½†æ˜¯å¦‚æœä½ åªæ˜¯æƒ³åœ¨æœ¬åœ°æµ‹è¯•æˆ–è€…å¼€å‘ä½¿ç”¨ï¼Œä¸æƒ³å ç”¨å¤ªå¤šçš„èµ„æºï¼Œé‚£ä¹ˆä½¿ç”¨kindæ˜¯ä¸é”™çš„é€‰æ‹©ã€‚åŒæ ·ï¼Œkindè¿˜å¯ä»¥å¾ˆæ–¹ä¾¿çš„å¸®ä½ æœ¬åœ°çš„kubernetesæºä»£ç æ‰“æˆå¯¹åº”çš„é•œåƒï¼Œæ–¹ä¾¿æµ‹è¯•ã€‚</p><p>GitHub: <a href="https://github.com/kubernetes-sigs/kind">https://github.com/kubernetes-sigs/kind</a></p><p>Documentation: <a href="https://kind.sigs.k8s.io/">https://kind.sigs.k8s.io/</a></p><h1 id="å®‰è£…kind"><a href="#å®‰è£…kind" class="headerlink" title="å®‰è£…kind"></a>å®‰è£…kind</h1><p>ä»¥Linuxä¸‹å®‰è£…ä¸ºä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -Lo .&#x2F;kind https:&#x2F;&#x2F;kind.sigs.k8s.io&#x2F;dl&#x2F;v0.9.0&#x2F;kind-linux-amd64</span><br><span class="line">chmod +x .&#x2F;kind</span><br><span class="line">mv .&#x2F;kind &#x2F;usr&#x2F;local&#x2F;bin&#x2F;kind</span><br></pre></td></tr></table></figure><h1 id="åˆ›å»ºã€æŸ¥è¯¢é›†ç¾¤"><a href="#åˆ›å»ºã€æŸ¥è¯¢é›†ç¾¤" class="headerlink" title="åˆ›å»ºã€æŸ¥è¯¢é›†ç¾¤"></a>åˆ›å»ºã€æŸ¥è¯¢é›†ç¾¤</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kind create cluster</span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤å°†é»˜è®¤åˆ›å»ºåä¸ºkindçš„é›†ç¾¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~# kind create cluster</span><br><span class="line">Creating cluster &quot;kind&quot; ...</span><br><span class="line"> âœ“ Ensuring node image (kindest&#x2F;node:v1.19.1) ğŸ–¼</span><br><span class="line"> âœ“ Preparing nodes ğŸ“¦</span><br><span class="line"> âœ“ Writing configuration ğŸ“œ</span><br><span class="line"> âœ“ Starting control-plane ğŸ•¹ï¸</span><br><span class="line"> âœ“ Installing CNI ğŸ”Œ</span><br><span class="line"> âœ“ Installing StorageClass ğŸ’¾</span><br><span class="line">Set kubectl context to &quot;kind-kind&quot;</span><br><span class="line">You can now use your cluster with:</span><br><span class="line"></span><br><span class="line">kubectl cluster-info --context kind-kind</span><br><span class="line"></span><br><span class="line">Have a question, bug, or feature request? Let us know! https:&#x2F;&#x2F;kind.sigs.k8s.io&#x2F;#community ğŸ™‚</span><br><span class="line"></span><br><span class="line">root@ubuntu:~# kind get clusters</span><br><span class="line">kind</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kind create cluster --name test</span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤å°†åˆ›å»ºåä¸ºtestçš„é›†ç¾¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~# kind create cluster --name test</span><br><span class="line">Creating cluster &quot;test&quot; ...</span><br><span class="line"> âœ“ Ensuring node image (kindest&#x2F;node:v1.19.1) ğŸ–¼</span><br><span class="line"> âœ“ Preparing nodes ğŸ“¦</span><br><span class="line"> âœ“ Writing configuration ğŸ“œ</span><br><span class="line"> âœ“ Starting control-plane ğŸ•¹ï¸</span><br><span class="line"> âœ“ Installing CNI ğŸ”Œ</span><br><span class="line"> âœ“ Installing StorageClass ğŸ’¾</span><br><span class="line">Set kubectl context to &quot;kind-test&quot;</span><br><span class="line">You can now use your cluster with:</span><br><span class="line"></span><br><span class="line">kubectl cluster-info --context kind-test</span><br><span class="line"></span><br><span class="line">Thanks for using kind! ğŸ˜Š</span><br><span class="line"></span><br><span class="line">root@ubuntu:~# kind get clusters</span><br><span class="line">kind</span><br><span class="line">test</span><br><span class="line"></span><br><span class="line">root@ubuntu:~# kubectl cluster-info --context kind-test</span><br><span class="line">Kubernetes master is running at https:&#x2F;&#x2F;127.0.0.1:44543</span><br><span class="line">KubeDNS is running at https:&#x2F;&#x2F;127.0.0.1:44543&#x2F;api&#x2F;v1&#x2F;namespaces&#x2F;kube-system&#x2F;services&#x2F;kube-dns:dns&#x2F;proxy</span><br><span class="line"></span><br><span class="line">To further debug and diagnose cluster problems, use &#39;kubectl cluster-info dump&#39;.</span><br></pre></td></tr></table></figure><p>kubectlå®‰è£…ï¼š<a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">https://kubernetes.io/docs/tasks/tools/install-kubectl/</a></p><p>æŸ¥è¯¢é›†ç¾¤èŠ‚ç‚¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~# kubectl get nodes --context kind-test</span><br><span class="line">NAME                 STATUS   ROLES    AGE     VERSION</span><br><span class="line">test-control-plane   Ready    master   4m55s   v1.19.1</span><br><span class="line"></span><br><span class="line">root@ubuntu:~# kubectl get nodes --context kind-kind</span><br><span class="line">NAME                 STATUS   ROLES    AGE     VERSION</span><br><span class="line">kind-control-plane   Ready    master   9m14s   v1.19.1</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~# docker ps</span><br><span class="line">CONTAINER ID        IMAGE                  COMMAND                  CREATED             STATUS              PORTS                       NAMES</span><br><span class="line">7fa7f8313453        kindest&#x2F;node:v1.19.1   &quot;&#x2F;usr&#x2F;local&#x2F;bin&#x2F;entrâ€¦&quot;   16 minutes ago      Up 16 minutes       127.0.0.1:44543-&gt;6443&#x2F;tcp   test-control-plane</span><br><span class="line">6fee527273e2        kindest&#x2F;node:v1.19.1   &quot;&#x2F;usr&#x2F;local&#x2F;bin&#x2F;entrâ€¦&quot;   20 minutes ago      Up 20 minutes       127.0.0.1:36585-&gt;6443&#x2F;tcp   kind-control-plane</span><br><span class="line">root@ubuntu:~# docker ps -a</span><br><span class="line">CONTAINER ID        IMAGE                  COMMAND                  CREATED             STATUS              PORTS                       NAMES</span><br><span class="line">7fa7f8313453        kindest&#x2F;node:v1.19.1   &quot;&#x2F;usr&#x2F;local&#x2F;bin&#x2F;entrâ€¦&quot;   16 minutes ago      Up 16 minutes       127.0.0.1:44543-&gt;6443&#x2F;tcp   test-control-plane</span><br><span class="line">6fee527273e2        kindest&#x2F;node:v1.19.1   &quot;&#x2F;usr&#x2F;local&#x2F;bin&#x2F;entrâ€¦&quot;   20 minutes ago      Up 20 minutes       127.0.0.1:36585-&gt;6443&#x2F;tcp   kind-control-plane</span><br></pre></td></tr></table></figure><p>test-control-planeã€kind-control-planeæ˜¯è¿è¡Œåœ¨å®¹å™¨å†…çš„kubernetesèŠ‚ç‚¹ï¼Œä¹Ÿæ­£æ˜¯kubernetes in Dockerçš„æ„æ€</p><p>æŸ¥è¯¢é›†ç¾¤å†…è¿è¡Œçš„pod</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~# kubectl get pods --all-namespaces --context kind-kind</span><br><span class="line">NAMESPACE            NAME                                         READY   STATUS    RESTARTS   AGE</span><br><span class="line">kube-system          coredns-f9fd979d6-cqpss                      1&#x2F;1     Running   0          22m</span><br><span class="line">kube-system          coredns-f9fd979d6-kvbzm                      1&#x2F;1     Running   0          22m</span><br><span class="line">kube-system          etcd-kind-control-plane                      1&#x2F;1     Running   0          22m</span><br><span class="line">kube-system          kindnet-br2qc                                1&#x2F;1     Running   0          22m</span><br><span class="line">kube-system          kube-apiserver-kind-control-plane            1&#x2F;1     Running   0          22m</span><br><span class="line">kube-system          kube-controller-manager-kind-control-plane   1&#x2F;1     Running   0          22m</span><br><span class="line">kube-system          kube-proxy-4chlm                             1&#x2F;1     Running   0          22m</span><br><span class="line">kube-system          kube-scheduler-kind-control-plane            1&#x2F;1     Running   0          22m</span><br><span class="line">local-path-storage   local-path-provisioner-78776bfc44-xl4ht      1&#x2F;1     Running   0          22m</span><br><span class="line"></span><br><span class="line">root@ubuntu:~# kubectl get pods --all-namespaces --context kind-test</span><br><span class="line">NAMESPACE            NAME                                         READY   STATUS    RESTARTS   AGE</span><br><span class="line">kube-system          coredns-f9fd979d6-f7wsz                      1&#x2F;1     Running   0          18m</span><br><span class="line">kube-system          coredns-f9fd979d6-j9xtx                      1&#x2F;1     Running   0          18m</span><br><span class="line">kube-system          etcd-test-control-plane                      1&#x2F;1     Running   0          18m</span><br><span class="line">kube-system          kindnet-jq867                                1&#x2F;1     Running   0          18m</span><br><span class="line">kube-system          kube-apiserver-test-control-plane            1&#x2F;1     Running   0          18m</span><br><span class="line">kube-system          kube-controller-manager-test-control-plane   1&#x2F;1     Running   0          18m</span><br><span class="line">kube-system          kube-proxy-swn5j                             1&#x2F;1     Running   0          18m</span><br><span class="line">kube-system          kube-scheduler-test-control-plane            1&#x2F;1     Running   0          18m</span><br><span class="line">local-path-storage   local-path-provisioner-78776bfc44-nwqjq      1&#x2F;1     Running   0          18m</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢podä½¿ç”¨çš„é•œåƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~# docker exec -it kind-control-plane crictl images</span><br><span class="line">IMAGE                                      TAG                  IMAGE ID            SIZE</span><br><span class="line">docker.io&#x2F;kindest&#x2F;kindnetd                 v20200725-4d6bea59   b77790820d015       119MB</span><br><span class="line">docker.io&#x2F;rancher&#x2F;local-path-provisioner   v0.0.14              e422121c9c5f9       42MB</span><br><span class="line">k8s.gcr.io&#x2F;build-image&#x2F;debian-base         v2.1.0               c7c6c86897b63       53.9MB</span><br><span class="line">k8s.gcr.io&#x2F;coredns                         1.7.0                bfe3a36ebd252       45.4MB</span><br><span class="line">k8s.gcr.io&#x2F;etcd                            3.4.13-0             0369cf4303ffd       255MB</span><br><span class="line">k8s.gcr.io&#x2F;kube-apiserver                  v1.19.1              8cba89a89aaa8       95MB</span><br><span class="line">k8s.gcr.io&#x2F;kube-controller-manager         v1.19.1              7dafbafe72c90       84.1MB</span><br><span class="line">k8s.gcr.io&#x2F;kube-proxy                      v1.19.1              47e289e332426       136MB</span><br><span class="line">k8s.gcr.io&#x2F;kube-scheduler                  v1.19.1              4d648fc900179       65.1MB</span><br><span class="line">k8s.gcr.io&#x2F;pause                           3.3                  0184c1613d929       686kB</span><br><span class="line">root@ubuntu:~# docker exec -it kind-control-plane crictl ps</span><br><span class="line">CONTAINER           IMAGE               CREATED             STATE               NAME                      ATTEMPT             POD ID</span><br><span class="line">1c881f7f0d306       bfe3a36ebd252       25 minutes ago      Running             coredns                   0                   75e161b37ab2d</span><br><span class="line">c64dd6bb666f3       bfe3a36ebd252       25 minutes ago      Running             coredns                   0                   a8305dc572af5</span><br><span class="line">fea2b69f5472d       e422121c9c5f9       26 minutes ago      Running             local-path-provisioner    0                   fb704b6340b63</span><br><span class="line">52f0995ba00f8       47e289e332426       26 minutes ago      Running             kube-proxy                0                   4c787e616d5a7</span><br><span class="line">b87cdcc514f59       b77790820d015       26 minutes ago      Running             kindnet-cni               0                   14eb70f9ca549</span><br><span class="line">ce2c4e5b2b57f       0369cf4303ffd       27 minutes ago      Running             etcd                      0                   744a99a558714</span><br><span class="line">93b5084a29992       8cba89a89aaa8       27 minutes ago      Running             kube-apiserver            0                   91f88afc5a39b</span><br><span class="line">8b9579313058f       7dafbafe72c90       27 minutes ago      Running             kube-controller-manager   0                   8d54fdffef86e</span><br><span class="line">10fbb8244ad3b       4d648fc900179       27 minutes ago      Running             kube-scheduler            0                   a985ae4a105bc</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œcrictlå‘½ä»¤å¯ä»¥ç†è§£ä¸ºdockerå‘½ä»¤</p><h1 id="åˆ é™¤é›†ç¾¤"><a href="#åˆ é™¤é›†ç¾¤" class="headerlink" title="åˆ é™¤é›†ç¾¤"></a>åˆ é™¤é›†ç¾¤</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kind delete cluster --name test</span><br></pre></td></tr></table></figure><p>åˆ é™¤åä¸ºtestçš„é›†ç¾¤ï¼Œâ€“nameæœªæŒ‡å®šçš„è¯ï¼Œå°†é»˜è®¤åˆ é™¤kindé›†ç¾¤</p><h1 id="åˆ›å»ºé«˜å¯ç”¨kubernetesé›†ç¾¤"><a href="#åˆ›å»ºé«˜å¯ç”¨kubernetesé›†ç¾¤" class="headerlink" title="åˆ›å»ºé«˜å¯ç”¨kubernetesé›†ç¾¤"></a>åˆ›å»ºé«˜å¯ç”¨kubernetesé›†ç¾¤</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~# cat kind-config.yaml</span><br><span class="line">kind: Cluster</span><br><span class="line">apiVersion: kind.x-k8s.io&#x2F;v1alpha4</span><br><span class="line">nodes:</span><br><span class="line">- role: control-plane</span><br><span class="line">- role: control-plane</span><br><span class="line">- role: control-plane</span><br><span class="line">- role: worker</span><br><span class="line">- role: worker</span><br><span class="line">- role: worker</span><br><span class="line"></span><br><span class="line">root@ubuntu:~# kind create cluster --config kind-config.yaml --name test2</span><br><span class="line">Creating cluster &quot;test2&quot; ...</span><br><span class="line"> âœ“ Ensuring node image (kindest&#x2F;node:v1.19.1) ğŸ–¼</span><br><span class="line"> âœ“ Preparing nodes ğŸ“¦ ğŸ“¦ ğŸ“¦ ğŸ“¦ ğŸ“¦ ğŸ“¦</span><br><span class="line"> âœ“ Configuring the external load balancer âš–ï¸</span><br><span class="line"> âœ“ Writing configuration ğŸ“œ</span><br><span class="line"> âœ“ Starting control-plane ğŸ•¹ï¸</span><br><span class="line"> âœ“ Installing CNI ğŸ”Œ</span><br><span class="line"> âœ“ Installing StorageClass ğŸ’¾</span><br><span class="line"> âœ“ Joining more control-plane nodes ğŸ®</span><br><span class="line"> âœ“ Joining worker nodes ğŸšœ</span><br><span class="line">Set kubectl context to &quot;kind-test2&quot;</span><br><span class="line">You can now use your cluster with:</span><br><span class="line"></span><br><span class="line">kubectl cluster-info --context kind-test2</span><br><span class="line"></span><br><span class="line">Have a nice day! ğŸ‘‹</span><br><span class="line"></span><br><span class="line">root@ubuntu:~# kubectl get nodes --context kind-test2</span><br><span class="line">NAME                   STATUS   ROLES    AGE     VERSION</span><br><span class="line">test2-control-plane    Ready    master   5m12s   v1.19.1</span><br><span class="line">test2-control-plane2   Ready    master   4m38s   v1.19.1</span><br><span class="line">test2-control-plane3   Ready    master   3m22s   v1.19.1</span><br><span class="line">test2-worker           Ready    &lt;none&gt;   2m5s    v1.19.1</span><br><span class="line">test2-worker2          Ready    &lt;none&gt;   2m5s    v1.19.1</span><br><span class="line">test2-worker3          Ready    &lt;none&gt;   2m5s    v1.19.1</span><br><span class="line"></span><br><span class="line">root@ubuntu:~# kubectl get pods --all-namespaces --context kind-test2</span><br><span class="line">NAMESPACE            NAME                                           READY   STATUS    RESTARTS   AGE</span><br><span class="line">kube-system          coredns-f9fd979d6-jbpcz                        1&#x2F;1     Running   0          5m16s</span><br><span class="line">kube-system          coredns-f9fd979d6-ng4qp                        1&#x2F;1     Running   0          5m16s</span><br><span class="line">kube-system          etcd-test2-control-plane                       1&#x2F;1     Running   0          5m15s</span><br><span class="line">kube-system          etcd-test2-control-plane2                      1&#x2F;1     Running   0          4m54s</span><br><span class="line">kube-system          etcd-test2-control-plane3                      1&#x2F;1     Running   0          2m59s</span><br><span class="line">kube-system          kindnet-gxpjn                                  1&#x2F;1     Running   0          4m55s</span><br><span class="line">kube-system          kindnet-jqnx5                                  1&#x2F;1     Running   0          2m20s</span><br><span class="line">kube-system          kindnet-lczmx                                  1&#x2F;1     Running   0          2m18s</span><br><span class="line">kube-system          kindnet-q8bcn                                  1&#x2F;1     Running   0          2m19s</span><br><span class="line">kube-system          kindnet-q9ng2                                  1&#x2F;1     Running   0          3m37s</span><br><span class="line">kube-system          kindnet-s7kfb                                  1&#x2F;1     Running   0          5m14s</span><br><span class="line">kube-system          kube-apiserver-test2-control-plane             1&#x2F;1     Running   0          5m15s</span><br><span class="line">kube-system          kube-apiserver-test2-control-plane2            1&#x2F;1     Running   0          4m54s</span><br><span class="line">kube-system          kube-apiserver-test2-control-plane3            1&#x2F;1     Running   1          3m9s</span><br><span class="line">kube-system          kube-controller-manager-test2-control-plane    1&#x2F;1     Running   2          5m14s</span><br><span class="line">kube-system          kube-controller-manager-test2-control-plane2   1&#x2F;1     Running   0          4m54s</span><br><span class="line">kube-system          kube-controller-manager-test2-control-plane3   1&#x2F;1     Running   0          2m8s</span><br><span class="line">kube-system          kube-proxy-47nc7                               1&#x2F;1     Running   0          5m16s</span><br><span class="line">kube-system          kube-proxy-5799m                               1&#x2F;1     Running   0          4m55s</span><br><span class="line">kube-system          kube-proxy-cvm49                               1&#x2F;1     Running   0          2m18s</span><br><span class="line">kube-system          kube-proxy-s7rsp                               1&#x2F;1     Running   0          2m18s</span><br><span class="line">kube-system          kube-proxy-sxwgl                               1&#x2F;1     Running   0          3m37s</span><br><span class="line">kube-system          kube-proxy-wvskh                               1&#x2F;1     Running   0          2m20s</span><br><span class="line">kube-system          kube-scheduler-test2-control-plane             0&#x2F;1     Running   2          5m15s</span><br><span class="line">kube-system          kube-scheduler-test2-control-plane2            1&#x2F;1     Running   0          4m54s</span><br><span class="line">kube-system          kube-scheduler-test2-control-plane3            1&#x2F;1     Running   0          2m31s</span><br><span class="line">local-path-storage   local-path-provisioner-78776bfc44-fkdwq        1&#x2F;1     Running   1          5m12s</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°è¿‡ç¨‹ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªkubernetesé›†ç¾¤ï¼Œkindå’Œtest2ï¼›å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åœ¨ä½¿ç”¨kubectlè®¿é—®é›†ç¾¤æ—¶ï¼Œå¢åŠ äº†å‚æ•°ï¼šâ€“contextï¼Œè¿™åœ¨æœ¬åœ°çš„é…ç½®æ–‡ä»¶é‡ŒæŒ‡å®šäº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~# cat .kube&#x2F;config</span><br><span class="line">apiVersion: v1</span><br><span class="line">clusters:</span><br><span class="line">- cluster:</span><br><span class="line">    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM1ekNDQWMrZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01URXlOekF3TkRJeU9Wb1hEVE13TVRFeU5UQXdOREl5T1Zvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTERTCm5TU1NHS05PUUlCVWpQeXpYOFRDZm5IamExV2JxeXZJeHV3Y1Aybmh6Zi9EdG9wVDRnSTVjMlBMV3Qrd05BUFUKUHA2dGV3ZkhNQ3N6MnJLbnhaRmtWS2c5NXVFdW53V1ZuZnlmeGV0TjlOU1JTZ2s2dkJuVUt6SFliRXIybEY0LwpicFVxT2IzWnkxQXdYNlpyRTN3Y1I1RjdLV2trT0FZbHdobUtiLzIwOVZJRG4yMW9CMHMzNXgrM3Z2L2gzQ3VaCkJCQjJnNVBKMm4xc1pwd05scnZDMmh0RmJDSjQwQVNXZmNsUksyejBYUEIvdzdNQlBXMHp1cnpEMUVBcGdZVUcKUGUwOEx3dW1zMllZR3Y5TDJXMERhWW90c2JoVXlWZWRDNnpjeWtUZ0hOb1B6LytvZlBHQmxYTko3S2lwd2Z6ZQo2dzdHZGJhbjlpRms4cjAyaVQ4Q0F3RUFBYU5DTUVBd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZEY2liT2RWZTN4U0w0RmMxOWVJdmZnSTBHcjZNQTBHQ1NxR1NJYjMKRFFFQkN3VUFBNElCQVFCS1lKSVFaenhSblFWWWp4TnlTaXJualFvZUM3OGtDMERNYjZpRFBvMFdEbmdTUjhRYgpqRjZxR2ZPMTFTcDNjeVl3V1IrM3UzU2pzQUJUUG5jcWZpWnEyN3VDMlRYNjdMQzRPNVFoVkdlRlBDdXJNNHluCi8weDZuOUZrMko5YmpTT0o1aDB2NmQ1eXBibk5sNVgvN1czWFVyK2tjOSswWG1sMFN0dmJVZ0hCaWVmWGxtZ3AKUXl5TlFtNU1yWlRFcWJOT0JubW1RWUJYWDdydWVLZXhVYUJ4QXQrRVJVWHBVOWNhbkNWWWhuZFBuMVNBYVladApsQkZyamRSNzg1SE1EV21qTW5UalJXSUhOSWd2NUgwKyt2MmN5cjRSK1lUWGo3S0JrdEZTRDA2U0I0RDZVeFk2CmRUZ25UMngzRXJvSERPZURjWWRrVmt2TkF5aC9JUGFTd2R6cwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg&#x3D;&#x3D;</span><br><span class="line">    server: https:&#x2F;&#x2F;127.0.0.1:36585</span><br><span class="line">  name: kind-kind</span><br><span class="line">- cluster:</span><br><span class="line">    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM1ekNDQWMrZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01URXlOekF6TWpJeE9Gb1hEVE13TVRFeU5UQXpNakl4T0Zvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBSi85CjlZQ0VseTNRLzRuc2t5dGZZY2Zpby9jcDJoaSsxRWpPOGMrVmF4YTkrbTIrdldBT1VhU0xQZnQ0VmRSL1hIWjYKT3FQSEY5K3ozNEZIb1p4RTJIY3kxd3R0Y1hOTXk1Qy9VMUdnakgramZLaWNmbVJmS3luS1M4SU80T3pLRHBKUQpodHQzb0JxeDVHdU0wSUpkVmsydVg5RjhmVHEyTllaN2lzK0NOVWdXM2dxMXA4SzNkZWxjaDYyM2NBSHhSS0JLCmZEZC9iZnZiZitvR0ZQS29BNWhLcXVKb3BDVFcrN1VZdnA4ZCs0QTgwYkZ2cG5CSmlUK1pGU0sxRExKZHBuRlgKV0pDOHdwNzNBYU9KSHAydnNTZ0p6ajFvUHUvL1lnSWNPNStoSGl6bThVcnVGQWxkWmE2ZzN4VnFCazNDZnducApsaU50MzdiblJrZ3VUNUU5cFFNQ0F3RUFBYU5DTUVBd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZNdnpFOXJORVFUWGNyUmJHcllmQ0J6VEpZby9NQTBHQ1NxR1NJYjMKRFFFQkN3VUFBNElCQVFBMjJZS1htS29kTkVmUklGS1ZOMXk1alRjQ2FIVnAyd3QvR1RNT3dHU1pYQXhlN2xBOQpIZDVCWHJoaXB6bkNPR1hxakRoZkVkaWVIa3VlcDNQWGxVTWxxa20yUGZkdUp0cTJ3T0piR0ZTVWZRR2xpS09MCkJ0eDRwVmd1dC9EQW11ZHNNNFlSeGRTS1R3bkppcjBBbkNnSWprd0gvZzdzekFYTVppMmZkYk9oL3NzcVFlZU4KREYrc01ld0czK2pSaVVqTEM2ck9sb0UySzArVjNhMDlMbmNiYlRCNDBVM0pZR0VvallzVExEdXZPakhuZElkKwpyM0FHMlNXMDRYek8wcHF4VDhlRjlkUE5qVG83SlpIeDc3RUtuNVNYU1YweGRuTTR1eHVBWDBoVExLenFyMlRNCmVJTzlZNGZWeHdCQk9BaFBQVmFTMW5SZy9GMXFIWWNKK20wUgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg&#x3D;&#x3D;</span><br><span class="line">    server: https:&#x2F;&#x2F;127.0.0.1:34927</span><br><span class="line">  name: kind-test2</span><br><span class="line">contexts:</span><br><span class="line">- context:</span><br><span class="line">    cluster: kind-kind</span><br><span class="line">    user: kind-kind</span><br><span class="line">  name: kind-kind</span><br><span class="line">- context:</span><br><span class="line">    cluster: kind-test2</span><br><span class="line">    user: kind-test2</span><br><span class="line">  name: kind-test2</span><br><span class="line">current-context: kind-test2</span><br><span class="line">kind: Config</span><br><span class="line">preferences: &#123;&#125;</span><br><span class="line">users:</span><br><span class="line">- name: kind-kind</span><br><span class="line">  user:</span><br><span class="line">    client-certificate-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFekNDQWZ1Z0F3SUJBZ0lJTHRQZkozeVliVHN3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TURFeE1qY3dNRFF5TWpsYUZ3MHlNVEV4TWpjd01EUXlNekZhTURReApGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1Sa3dGd1lEVlFRREV4QnJkV0psY201bGRHVnpMV0ZrCmJXbHVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXJEaURMOWhSUGduVzNwdlcKQ1pNekVlTG0vRTJuVmlXdG9icTVoZUdrdG1Udi9aWEUydG9uKy96ZWROOThvM3J4ZEdneDNTZDRndjZtSnpQbgpFZ3hTRDcrQnErSmt5WG5oQThPM1RQakN0aHdES1JIZjEzbkI4NDNlbjZ3S3E5K3A1RHB2UFNNSkgyQkJLckkrCjlHWTFvTWp2SnRWSjMyZ1dhTnlJV0hzTkE0QmdPM0RRT2Y2cGN6bXZhbllKZFliYTFpQmpKUEVaRURPNEpFdHIKZWYrTUFHb1diSFlaeDdySWo5eTJoNzdOQi9DV0k1alVSUXp6MWQ0ZlFnV05WR1cyblVXbGlGZjlEWlRVR25CMwpHMHBUTjc5N1U0bUNYdWVBUjFxY25idS9YNjBMb2l6bEpKVWJzcjZYUWFaRmtKS2FzSGx2Tmdydm11cWhnSjZTCmxCWWNIUUlEQVFBQm8wZ3dSakFPQmdOVkhROEJBZjhFQkFNQ0JhQXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUgKQXdJd0h3WURWUjBqQkJnd0ZvQVVOeUpzNTFWN2ZGSXZnVnpYMTRpOStBalFhdm93RFFZSktvWklodmNOQVFFTApCUUFEZ2dFQkFBay8xbjJqLzhGdlhISm94V0Q3dUl4WUxTUmlrTjcxWWdOOW1yckVYRjVFUkxBMjI5eEtyT1c1ClV2Tm9nZGlqdWpEbDhoVjRoU1hkY3M0dE9ZNmZYbExkN3JhN25vL054UUtHM1lPdktWM2g0eS9wUEYxMENQL0sKTTFhSnNkY1U2aG8wbnZrL1dQSDB2ckxtNE1jUHpBbFUvazdvd3FiemcybHZQdDBCMTJjZHh4bk44UHp5VU4zZwpQQVBzT3hab1hwQnVpNjkxcEt2a1VDUm1MY0dUTHowT0Y5YXVOaUhRRG1qMG1hSEg2ckI2c0kvQzBuZ08vaCtSCmNsUnBGYk9uQnZRbW1nRjZER0E4cGxUSUM2ZE1JOGtXRzVaQWFSbzMrblFLME5sMERaUDVBTjM1cE1yS0M1R3cKeTdHaVlRQkFCVlJOZ2FJemg1bktHUXFJVVFXRUU5TT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo&#x3D;</span><br><span class="line">    client-key-data: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBckRpREw5aFJQZ25XM3B2V0NaTXpFZUxtL0UyblZpV3RvYnE1aGVHa3RtVHYvWlhFCjJ0b24rL3plZE45OG8zcnhkR2d4M1NkNGd2Nm1KelBuRWd4U0Q3K0JxK0preVhuaEE4TzNUUGpDdGh3REtSSGYKMTNuQjg0M2VuNndLcTkrcDVEcHZQU01KSDJCQktySSs5R1kxb01qdkp0VkozMmdXYU55SVdIc05BNEJnTzNEUQpPZjZwY3ptdmFuWUpkWWJhMWlCakpQRVpFRE80SkV0cmVmK01BR29XYkhZWng3cklqOXkyaDc3TkIvQ1dJNWpVClJRenoxZDRmUWdXTlZHVzJuVVdsaUZmOURaVFVHbkIzRzBwVE43OTdVNG1DWHVlQVIxcWNuYnUvWDYwTG9pemwKSkpVYnNyNlhRYVpGa0pLYXNIbHZOZ3J2bXVxaGdKNlNsQlljSFFJREFRQUJBb0lCQVFDYlJzUzVVYTlHWVRhegpOUXhSUzcvREE3TEJqdjR1QlFDOURnOFJyL1dEWWhTanJmSjBaRGVpMGtaOFY3Z1g2ZFJqNFVIOEpRZGFER0VnCmZZSjhXbEZ1MDNzRno3U1JsMnNTcXRiTTlva1FDc2Vxc3V3QWFrNDkydzc3SmZIbEwxOE5ZTVpFK0I3VWhFT2QKVEdMSWxwTUpxY0UrWVJZZThNa3J1SkxTTy9mcXk4eW1zWnk5ZHlyOWIvTjJnZm1iYW1kWVpVa3hneFVaVVB6RQpqdDBFZEZ5YThHK29YcUlMakZoR3oyQnBHSFJIVnNJYjlGdEhEbktzTVV5YzNGQXZyTmVjTHYyYmw1a0tjb1pBClY3ay9pMHhiVGpWK0tVSXQ2STlPb09aNkIzNjZkbDJjUHNQQmJtK3pRN3A4a0l0SXdoanpOUVN3QytjVFhVYnIKQ2Yxb3BpYjlBb0dCQU11RlNJVlpjaVk1akNSWlRnd0dEczlybGdsWW9hNFA4TkUyMng5RFdoMVNyS2k2and0VgorcGphM1V3ZTBYRHBWTFIrZXNKZ1NYZlBqSk5WVW5KS0RKeElBTGNHM01qek9RcUlwYjMxMXBoenJsdWo4WGllCi8wQ0ZMU0YyR2N0b1B2cUxPUWFvQjNFcy96UmxzUmVOSlMvUEp0NG9pS29ERmI3d05zbFRYVWRqQW9HQkFOaWgKRXhadG5qd1RRZzBpUHU0SERYUlU0M0hzQ2pWMFh0MENGclY0Q2Qzcjc3ZUsxd2RtSkhVUWczV0VKeUxBREhyVQpIa0EzKzRJdXdmcVE0d0FwZHF6SFF4UUtJbXA2dEpVTElYL2xhNk1RbFltSTREcHFVUWRETi8yN0V4bXAwRkZVCkc1b2FNb1BoOVNLMk0wZ2RkWjJpS3llZ2I5dkJLNWJORzVTdUhTWi9Bb0dCQUsyaVM4b0JFdU5MeTZXalQzUHcKb3lnUmlOTDJmQklONVk0SStBK0hIZFhRbUIvbjhteGdjVW1CeUxYTndUQk0wWWlnTThtcjdtSTZmNXVmZXBTcApXbkxtOXowdnJLUUE1bFIzV3JoamlpOU0ycCt5a2l3dnNtUHdleDJHTGVHZFVjWGRpOHlEQkw1by9sNU11RGI0Cm81WlRiTHl5NWszdURkcDJCTGZrMkxzekFvR0JBTEp6aGdqTXhqUFEzWEY2UzRMRFZvY0ZRdFBlME00V0RldGIKeEI4N1FrMkpCVkVhVTJacDh4Qm9TUkt1aVpxcnY5d1REdFJ5Q1lMRlI5QkVPR3N5dk9zNXZuMHNtQXRGQjZ0YgpudjMvbkxxWWQ4YnpkVnRKcDNRbklHR3BFT1BzS29wRWtmUlJMbG5MOHFia2xyd0tZSkE1UGZtSHhYMnUxRnlHCm0valBzWDI3QW44cStrMXBqRFlMakMzSjlXWkE2a3Blc05yMENaU0RaTjNhZy9LNUxzQTVaekhaclhMQm9EaEYKekJ5ankvVVpUM1RlOXVxM2dTb1pNdnp1TVRRYWVLclFmOFBHQi9sNUVvdDJxSkMza1piR1F5cXNQVG8yT0JSdApnNytzdjE2azRieEZlMkVRVmU4M0NXR0pneEZkKzc1c1NxZGxON1RKZXJVOUdxbnM1dmk1Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg&#x3D;&#x3D;</span><br><span class="line">- name: kind-test2</span><br><span class="line">  user:</span><br><span class="line">    client-certificate-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFekNDQWZ1Z0F3SUJBZ0lJR2toZno1Qy9Yc2d3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TURFeE1qY3dNekl5TVRoYUZ3MHlNVEV4TWpjd016SXlNakJhTURReApGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1Sa3dGd1lEVlFRREV4QnJkV0psY201bGRHVnpMV0ZrCmJXbHVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXJ6azZ2RFJsMjI4V1RndUEKYnNNN0tLVUVaaWRmbVBKVW1kaitmdCs1UTZFSHFvUitzOHVycDVVc0tOY0krZzdoYkNJa2VzdzE4OGZ0NDVlSwp4eGpmV1NiUXNiSjYyb3RQRUVoSGpPZElRTHVxQlBqR1J1N3NwUE8yRzFnMFZTMm9UY0VUVlYzQ2RCUFFPRjNOCm9WblhPdzQwSWttWXVURDZHUEdNT2VwN05Rak4vZERybVphMy94WWxJK2loVHZJbnZXNjVYYmd0NTNwS203YXgKOUNSVGhjNUtONjg2TzVLekR6ZnhPZGtpUUhJdzNXL3BpTXRvOVV5QUF3V2RoUmc0K0VacW5OTjZXREl4RlNPNQpJN0Z6c3dtT2s0L29wcW55ZHhmNnFYamF6MGlvTTNyM0I4bUY0c09VakhtaDJyUnB3a3ZpQUxkV3AvbVo0ek5uClJYYVp3UUlEQVFBQm8wZ3dSakFPQmdOVkhROEJBZjhFQkFNQ0JhQXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUgKQXdJd0h3WURWUjBqQkJnd0ZvQVV5L01UMnMwUkJOZHl0RnNhdGg4SUhOTWxpajh3RFFZSktvWklodmNOQVFFTApCUUFEZ2dFQkFIMHg2am5uajNSQWxBY0dOZmxyY1Zob01XVUpOZCtVak5OSXNSTHRaSzJTYTh6SThCK0VIeUxFCndhRjJGMzZ0VTV6L1JiSFluK3d3Q3ByQVJjLzhYTUx2OEpnMVU2aDg2SkxpNm9qc29Vb0dhUFNoWmI3S1YyOUQKSE5JQ2p5M2QrenhjdEV4OWFTRDB3WkR0cFpVaS9tZlQ3MklRekVUazQ2QTQ4bldYdkx0MWJ6TEZ4T1hQZVB1WgpiZG1lcWR5QmN1TXI0MUppcEJVUlpOWDgxQ0xIQ1ZQU2tsRHkySVl0OUgxeVNmb3RHMUV4ZHlDZE1vRjZTVUdhCkpLY0psNGFSQ3JNLzNqSGx3YVpGcWR0WkFFZ2pzM3lOYXllTW9SYi93bEdpWkdaQTFhQ3JNZlU5bXRnTlMrMWIKbmE1M0RxVmRKZHBTSnhWSjNPQXpUY2s0OVV1Z2c4ND0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo&#x3D;</span><br><span class="line">    client-key-data: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb2dJQkFBS0NBUUVBcnprNnZEUmwyMjhXVGd1QWJzTTdLS1VFWmlkZm1QSlVtZGorZnQrNVE2RUhxb1IrCnM4dXJwNVVzS05jSStnN2hiQ0lrZXN3MTg4ZnQ0NWVLeHhqZldTYlFzYko2Mm90UEVFaEhqT2RJUUx1cUJQakcKUnU3c3BQTzJHMWcwVlMyb1RjRVRWVjNDZEJQUU9GM05vVm5YT3c0MElrbVl1VEQ2R1BHTU9lcDdOUWpOL2REcgptWmEzL3hZbEkraWhUdkludlc2NVhiZ3Q1M3BLbTdheDlDUlRoYzVLTjY4Nk81S3pEemZ4T2RraVFISXczVy9wCmlNdG85VXlBQXdXZGhSZzQrRVpxbk5ONldESXhGU081STdGenN3bU9rNC9vcHFueWR4ZjZxWGphejBpb00zcjMKQjhtRjRzT1VqSG1oMnJScHdrdmlBTGRXcC9tWjR6Tm5SWGFad1FJREFRQUJBb0lCQUR5a0tNQ2p2YkNRcEg2RQpHb0c2elVtR3Vwd0QrbUM3VlM0ZFhBNWFyUXBMdTVSMjRFYW5NUlFCVzFRUy80ZFRDUTdjVGhXMWdPS0tpYmpmClpHYjlJNmI5K1BIV25BL3djSDlwRkdJZVZQSWFRSUFSL01UbHdUNWhIZUFleVpYRkJGOU1kNzF1Z25LYnZNOFYKSDZvOHBuRkl2Q0ExcWtaRlBmak45OEsvZEw1b1o0U3BrRjVxT2lTZ1MzdjVvTVM5UzR4OGRLTERtNldlYlJIZApCNTByaXppamJkVFJqRVZ4Yjk4ZG9GK0pYbWhwYS9jSXg1WmNrOFoxVElCMUJvRmpaSytsM014S0UyZkdNYnBrCjNUMUk3cGlFNVg0M1N3YmRQUksvNGxKT1NYUjdUeHNkN3kwajFuMjhtaHUwdEJPdUlnbHUrYTZ1UW5mZ1lVOTQKNTN1SjhEVUNnWUVBd2tPY1crQzJvcm9yQU5MUld6TWVlZnlmNG1pelpTQU9uelJ5WGRtWU9paWRiU1lRWlRXegpOWjJrSWlWLzBwS0hxM213dWp4K1gyQlRqVGE5MGNRUnVndkdzcUhRVmdQOVczZ1V0TWtLTTVobG9sUHZwTUZvCnU1Z2JNMjNCM1luYWdWR0w3ajVaUmVLWEYrbkRWbjdwdUt4TmFzZ2tmL1dZYy9CenlCeWFBRk1DZ1lFQTV1aVMKUVJqbzFlSVlsK0dRSUY5Rzh3dmdxL1puZS9yVSt3ZWVzcSt6OHZEck43TlRJUnZMcllVY0NZaHRWY0VWVkF5UgpyZzkvQU50UDVIcEFoQ2Z3OHJkcjNCNmxqY0JDMjhVQ0JMOWFsRXpDbjVCRFBEVVN3Z0Y3SE5UaUwvUE9OWEFkCmlJc1pydHJibzlUdzkyOS9HRUQ1aFV5N21DR3J1d0Y1d1gxWEN4c0NnWUE1eENFYXNSZWVDLzM5b0xMZ2k3TGsKVTFxMzJLcC94NmlSYnVjVFFVRWpDakRGNUN1NzdOdjlkWUw1SkcxK0VGU0hpUWdrV1JpN0E4blVsQktkN2MvWApvdWpTOVlzZUNOR3VBV2NtMnlGTmRtUENnWE1oYXVIWjVzRXY2ZE5jTFVIc2NuTkp4UUNHNTNwR2doeXorOGxFClFQaEVhSDl5RFhYb0EvaHA2UmRpUVFLQmdGaWk3QWxyQzIyV3hjUC9oUGk0T2g3djcwVnpaNVB5M0RDa1l5bksKUW5RK1FMeDM3TEFuNEU1eWF5bkpvZGFxTUlxNzdHdjViTklpWFkraDBnUW81TmYyeXNPTFRCZVd0dE52MDIrSgpHTGNXcEJybUlMa0swbkdBYWdiT1BTa1ZHSkh3d0pWNmQ5aGtFSzNaL3Ntc2xnZjBZUlBuT1plVFRUMlN1bThvCnN2SURBb0dBWk85dWNVS215OHBmM1A5L2NZQmVOVU9EOUFSQytna29DQkE5V1Zuclk3bDk4ZFRuWjFFbzZZcEkKUEkvRmFZRWcvYnptT3k1bzRDNVc0NGpZZnJLMFh0aHZkN3lIbVJidnNRRzBSV21EZnQ5OE5EbU9MbG44a0RMQQpUb1ROOU5IbWJVWmQ1VXZLa3BMTWhLbWQ5M05hdklXajlnV245TXh4MXBaUURleWg0SUk9Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg&#x3D;&#x3D;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªclusterï¼Œä¸¤ä¸ªcontextã€‚contextæŒ‡å®šäº†clusteråŠuserï¼Œuserså­—æ®µåˆ—å‡ºäº†ä¸¤ä¸ªuser</p><p>contextåä¸ºkind-kindï¼Œcluserä¸ºkind-kindï¼Œuserä¸ºkind-kindï¼Œæ„æ€å°±æ˜¯å½“æŒ‡å®šâ€“contextä¸ºkind-kindæ—¶ï¼Œå°†ä½¿ç”¨kind-kindçš„userå»è®¿é—®clusterä¸ºkind-kindçš„é›†ç¾¤ã€‚</p><p>current-context: kind-test2è¯´æ˜å½“å‰çš„contextä½¿ç”¨çš„æ˜¯kind-test2ï¼Œå¦‚æœä¸æŒ‡å®šâ€“contextï¼Œå°†é»˜è®¤ä½¿ç”¨kind-test2</p><p>å½“ç„¶ï¼Œç”¨æˆ·å¯ä»¥ä¿®æ”¹å½“ç„¶é»˜è®¤çš„current-context</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~# kubectl get node</span><br><span class="line">NAME                   STATUS   ROLES    AGE     VERSION</span><br><span class="line">test2-control-plane    Ready    master   2d23h   v1.19.1</span><br><span class="line">test2-control-plane2   Ready    master   2d23h   v1.19.1</span><br><span class="line">test2-control-plane3   Ready    master   2d23h   v1.19.1</span><br><span class="line">test2-worker           Ready    &lt;none&gt;   2d23h   v1.19.1</span><br><span class="line">test2-worker2          Ready    &lt;none&gt;   2d23h   v1.19.1</span><br><span class="line">test2-worker3          Ready    &lt;none&gt;   2d23h   v1.19.1</span><br><span class="line"></span><br><span class="line">root@ubuntu:~# kubectl config</span><br><span class="line">Modify kubeconfig files using subcommands like &quot;kubectl config set current-context my-context&quot;</span><br><span class="line"></span><br><span class="line"> The loading order follows these rules:</span><br><span class="line"></span><br><span class="line">  1.  If the --kubeconfig flag is set, then only that file is loaded. The flag may only be set once and no merging takes</span><br><span class="line">place.</span><br><span class="line">  2.  If $KUBECONFIG environment variable is set, then it is used as a list of paths (normal path delimiting rules for</span><br><span class="line">your system). These paths are merged. When a value is modified, it is modified in the file that defines the stanza. When</span><br><span class="line">a value is created, it is created in the first file that exists. If no files in the chain exist, then it creates the</span><br><span class="line">last file in the list.</span><br><span class="line">  3.  Otherwise, $&#123;HOME&#125;&#x2F;.kube&#x2F;config is used and no merging takes place.</span><br><span class="line"></span><br><span class="line">Available Commands:</span><br><span class="line">  current-context Displays the current-context</span><br><span class="line">  delete-cluster  Delete the specified cluster from the kubeconfig</span><br><span class="line">  delete-context  Delete the specified context from the kubeconfig</span><br><span class="line">  get-clusters    Display clusters defined in the kubeconfig</span><br><span class="line">  get-contexts    Describe one or many contexts</span><br><span class="line">  rename-context  Renames a context from the kubeconfig file.</span><br><span class="line">  set             Sets an individual value in a kubeconfig file</span><br><span class="line">  set-cluster     Sets a cluster entry in kubeconfig</span><br><span class="line">  set-context     Sets a context entry in kubeconfig</span><br><span class="line">  set-credentials Sets a user entry in kubeconfig</span><br><span class="line">  unset           Unsets an individual value in a kubeconfig file</span><br><span class="line">  use-context     Sets the current-context in a kubeconfig file</span><br><span class="line">  view            Display merged kubeconfig settings or a specified kubeconfig file</span><br><span class="line"></span><br><span class="line">Usage:</span><br><span class="line">  kubectl config SUBCOMMAND [options]</span><br><span class="line"></span><br><span class="line">Use &quot;kubectl &lt;command&gt; --help&quot; for more information about a given command.</span><br><span class="line">Use &quot;kubectl options&quot; for a list of global command-line options (applies to all commands).</span><br><span class="line"></span><br><span class="line">root@ubuntu:~# kubectl config use-context</span><br><span class="line">Sets the current-context in a kubeconfig file</span><br><span class="line"></span><br><span class="line">Aliases:</span><br><span class="line">use-context, use</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">  # Use the context for the minikube cluster</span><br><span class="line">  kubectl config use-context minikube</span><br><span class="line"></span><br><span class="line">Usage:</span><br><span class="line">  kubectl config use-context CONTEXT_NAME [options]</span><br><span class="line"></span><br><span class="line">Use &quot;kubectl options&quot; for a list of global command-line options (applies to all commands).</span><br><span class="line">error: Unexpected args: []</span><br><span class="line"></span><br><span class="line">root@ubuntu:~# kubectl config use-context kind-kind</span><br><span class="line">Switched to context &quot;kind-kind&quot;.</span><br><span class="line"></span><br><span class="line">root@ubuntu:~# kubectl get node</span><br><span class="line">NAME                 STATUS   ROLES    AGE    VERSION</span><br><span class="line">kind-control-plane   Ready    master   3d1h   v1.19.1</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šï¼Œkindå†…éƒ¨åˆ›å»ºé›†ç¾¤è¿‡ç¨‹ä¸­ï¼Œä¹Ÿæ˜¯ä½¿ç”¨kubeadmï¼Œä»ä¸Šè¿°åˆ›å»ºè¿‡ç¨‹ä¸­çš„æ‰“å°ä¹Ÿä¼¼ä¹èƒ½çŒœåˆ°è¿™ä¸€ç‚¹</p><p>åé¢ï¼Œå°±å¯ä»¥ä½¿ç”¨æ­å»ºå¥½çš„é›†ç¾¤ç¯å¢ƒï¼Œå¼€å§‹ä½ çš„å¼€å‘ã€æµ‹è¯•å·¥ä½œäº†~~~</p>]]></content>
    
    
    <summary type="html">ä»€ä¹ˆæ˜¯kind
kindï¼šKubernetes In Dockerï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å°†kubernetesæ‰€éœ€è¦çš„æ‰€æœ‰ç»„ä»¶ï¼Œå…¨éƒ¨éƒ¨ç½²åœ¨ä¸€ä¸ªdockerå®¹å™¨ä¸­ï¼Œæ˜¯ä¸€å¥—å¼€ç®±å³ç”¨çš„kubernetesç¯å¢ƒæ­å»ºæ–¹æ¡ˆã€‚ä½¿ç”¨kindæ­å»ºçš„é›†ç¾¤æ— æ³•åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨ï¼Œä½†æ˜¯å¦‚æœä½ åªæ˜¯æƒ³åœ¨æœ¬åœ°æµ‹è¯•æˆ–è€…å¼€å‘ä½¿ç”¨ï¼Œä¸æƒ³å ç”¨å¤ªå¤šçš„èµ„æºï¼Œé‚£ä¹ˆä½¿ç”¨kindæ˜¯ä¸é”™çš„é€‰æ‹©ã€‚åŒæ ·ï¼Œkindè¿˜å¯ä»¥å¾ˆæ–¹ä¾¿çš„å¸®ä½ æœ¬åœ°çš„kubernetesæºä»£ç æ‰“æˆå¯¹åº”çš„é•œåƒï¼Œæ–¹ä¾¿æµ‹è¯•ã€‚

GitHub: https://github.com/kubernetes-sigs/kind

Documentation: https://kind.sigs.k8s</summary>
    
    
    
    <category term="äº‘åŸç”Ÿ" scheme="https://yushanjin.github.io/categories/%E4%BA%91%E5%8E%9F%E7%94%9F/"/>
    
    
    <category term="kubernetes" scheme="https://yushanjin.github.io/tags/kubernetes/"/>
    
    <category term="äº‘åŸç”Ÿ" scheme="https://yushanjin.github.io/tags/%E4%BA%91%E5%8E%9F%E7%94%9F/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntuæ­å»ºKubernetesé›†ç¾¤</title>
    <link href="https://yushanjin.github.io/2020/11/26/kubernetes_install_on_ubuntu/"/>
    <id>https://yushanjin.github.io/2020/11/26/kubernetes_install_on_ubuntu/</id>
    <published>2020-11-26T08:41:01.137Z</published>
    <updated>2020-11-26T08:41:01.137Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨Ubuntuç³»ç»Ÿä¸Šæ­å»ºKubernetesé›†ç¾¤ã€‚</p><h1 id="å‰æï¼š"><a href="#å‰æï¼š" class="headerlink" title="å‰æï¼š"></a>å‰æï¼š</h1><p>1ã€æ“ä½œç³»ç»ŸUbuntu 19.10</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu-001:~# uname -a</span><br><span class="line">Linux ubuntu-001 5.3.0-51-generic #44-Ubuntu SMP Wed Apr 22 21:09:44 UTC 2020 x86_64 x86_64 x86_64 GNU&#x2F;Linux</span><br><span class="line">root@ubuntu-001:~# lsb_release -a</span><br><span class="line">No LSB modules are available.</span><br><span class="line">Distributor ID:Ubuntu</span><br><span class="line">Description:Ubuntu 19.10</span><br><span class="line">Release:19.10</span><br><span class="line">Codename:eoan</span><br></pre></td></tr></table></figure><p>2ã€é€šè¿‡é˜¿é‡Œäº‘ç›¸å…³é•œåƒæºå®‰è£…</p><p><strong>ä»¥ä¸‹å‡ä¸ºrootç”¨æˆ·ä¸‹æ“ä½œ</strong></p><h1 id="æ“ä½œæ­¥éª¤ï¼š"><a href="#æ“ä½œæ­¥éª¤ï¼š" class="headerlink" title="æ“ä½œæ­¥éª¤ï¼š"></a>æ“ä½œæ­¥éª¤ï¼š</h1><h2 id="1ã€ä¿®æ”¹ä¸»æœºå"><a href="#1ã€ä¿®æ”¹ä¸»æœºå" class="headerlink" title="1ã€ä¿®æ”¹ä¸»æœºå"></a>1ã€ä¿®æ”¹ä¸»æœºå</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname ubuntu-001</span><br></pre></td></tr></table></figure><h2 id="2ã€å…³é—­é˜²ç«å¢™"><a href="#2ã€å…³é—­é˜²ç«å¢™" class="headerlink" title="2ã€å…³é—­é˜²ç«å¢™"></a>2ã€å…³é—­é˜²ç«å¢™</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get install ufw</span><br><span class="line">ufw disable</span><br></pre></td></tr></table></figure><h2 id="3ã€å®‰è£…docker"><a href="#3ã€å®‰è£…docker" class="headerlink" title="3ã€å®‰è£…docker"></a>3ã€å®‰è£…docker</h2><p><strong>å®‰è£…å¿…è¦çš„å·¥å…·åŠGPGè¯ä¹¦</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get -y install apt-transport-https ca-certificates curl software-properties-common</span><br><span class="line">curl -fsSL https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;docker-ce&#x2F;linux&#x2F;ubuntu&#x2F;gpg | sudo apt-key add -</span><br></pre></td></tr></table></figure><p><strong>é…ç½®é˜¿é‡Œäº‘dockeræº</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">add-apt-repository &quot;deb [arch&#x3D;amd64] https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;docker-ce&#x2F;linux&#x2F;ubuntu $(lsb_release -cs) stable&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š å¦‚æœæ˜¯armæ¶æ„ç³»ç»Ÿï¼Œè¯·å¯¹åº”æ›´æ¢ï¼Œ å¦‚ï¼šadd-apt-repository â€œdeb [arch=arm64] <a href="https://mirrors.aliyun.com/docker-ce/linux/ubuntu">https://mirrors.aliyun.com/docker-ce/linux/ubuntu</a> $(lsb_release -cs) stableâ€</p><p><strong>æŸ¥è¯¢dockerç‰ˆæœ¬ï¼ˆå¦åˆ™é»˜è®¤å®‰è£…æœ€æ–°çš„ç‰ˆæœ¬ï¼‰</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apt-cache madison docker-ce</span><br><span class="line">#   docker-ce | 5:19.03.8~3-0~ubuntu-eoan | https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;docker-ce&#x2F;linux&#x2F;ubuntu eoan&#x2F;stable amd64 Packages</span><br><span class="line">#   docker-ce | 5:19.03.7~3-0~ubuntu-eoan | https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;docker-ce&#x2F;linux&#x2F;ubuntu eoan&#x2F;stable amd64 Packages</span><br><span class="line">#   docker-ce | 5:19.03.6~3-0~ubuntu-eoan | https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;docker-ce&#x2F;linux&#x2F;ubuntu eoan&#x2F;stable amd64 Packages</span><br></pre></td></tr></table></figure><p><strong>å®‰è£…æŒ‡å®šç‰ˆæœ¬docker</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get -y update</span><br><span class="line">apt-get -y install docker-ce&#x3D;5:19.03.8~3-0~ubuntu-eoan</span><br></pre></td></tr></table></figure><p><strong>å¯åŠ¨docker</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable docker &amp;&amp; systemctl start docker</span><br></pre></td></tr></table></figure><p><strong>æŸ¥è¯¢dockeræœåŠ¡çŠ¶æ€</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status docker</span><br></pre></td></tr></table></figure><p><strong>æŸ¥çœ‹dockerç‰ˆæœ¬</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker version</span><br></pre></td></tr></table></figure><h2 id="4ã€å®‰è£…kubeletã€kubeadm-å’Œ-kubectl"><a href="#4ã€å®‰è£…kubeletã€kubeadm-å’Œ-kubectl" class="headerlink" title="4ã€å®‰è£…kubeletã€kubeadm å’Œ kubectl"></a>4ã€å®‰è£…kubeletã€kubeadm å’Œ kubectl</h2><p><strong>é…ç½®kubernetes.repoçš„æºï¼Œç”±äºå®˜æ–¹æºå›½å†…æ— æ³•è®¿é—®ï¼Œè¿™é‡Œä½¿ç”¨é˜¿é‡Œäº‘æº</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;kubernetes&#x2F;apt&#x2F;doc&#x2F;apt-key.gpg | apt-key add - </span><br><span class="line">cat &lt;&lt;EOF &gt;&#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;kubernetes.list</span><br><span class="line">deb https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;kubernetes&#x2F;apt&#x2F; kubernetes-xenial main</span><br><span class="line">EOF  </span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šå®‰è£…æŒ‡å®šç‰ˆæœ¬ kubeletã€kubeadm å’Œ kubectl</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-cache madison kubectl</span><br><span class="line">apt-cache madison kubeadm</span><br><span class="line">apt-cache madison kubelet</span><br><span class="line">apt-get install -y kubelet&#x3D;1.18.0-00 kubeadm&#x3D;1.18.0-00 kubectl&#x3D;1.18.0-00</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>å¯åŠ¨kubeletæœåŠ¡</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable kubelet &amp;&amp; systemctl start kubelet </span><br></pre></td></tr></table></figure><h2 id="5ã€å…³é—­swapåˆ†åŒº"><a href="#5ã€å…³é—­swapåˆ†åŒº" class="headerlink" title="5ã€å…³é—­swapåˆ†åŒº"></a>5ã€å…³é—­swapåˆ†åŒº</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">swapoff -a</span><br></pre></td></tr></table></figure><h2 id="6ã€åˆå§‹åŒ–masterèŠ‚ç‚¹"><a href="#6ã€åˆå§‹åŒ–masterèŠ‚ç‚¹" class="headerlink" title="6ã€åˆå§‹åŒ–masterèŠ‚ç‚¹"></a>6ã€åˆå§‹åŒ–masterèŠ‚ç‚¹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubeadm init --image-repository registry.aliyuncs.com&#x2F;google_containers --kubernetes-version v1.18.0Â --pod-network-cidr&#x3D;10.244.0.0&#x2F;16Â --token-ttl 0 --ignore-preflight-errors&#x3D;Swap</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu-001:~# kubeadm init --image-repository registry.aliyuncs.com&#x2F;google_containers --kubernetes-version v1.18.0 --pod-network-cidr&#x3D;10.244.0.0&#x2F;16 --token-ttl 0 --ignore-preflight-errors&#x3D;Swap</span><br><span class="line">W0507 17:11:30.761887   14961 configset.go:202] WARNING: kubeadm cannot validate component configs for API groups [kubelet.config.k8s.io kubeproxy.config.k8s.io]</span><br><span class="line">[init] Using Kubernetes version: v1.18.0</span><br><span class="line">[preflight] Running pre-flight checks</span><br><span class="line">[WARNING IsDockerSystemdCheck]: detected &quot;cgroupfs&quot; as the Docker cgroup driver. The recommended driver is &quot;systemd&quot;. Please follow the guide at https:&#x2F;&#x2F;kubernetes.io&#x2F;docs&#x2F;setup&#x2F;cri&#x2F;</span><br><span class="line">[preflight] Pulling images required for setting up a Kubernetes cluster</span><br><span class="line">[preflight] This might take a minute or two, depending on the speed of your internet connection</span><br><span class="line">[preflight] You can also perform this action in beforehand using &#39;kubeadm config images pull&#39;</span><br><span class="line">[kubelet-start] Writing kubelet environment file with flags to file &quot;&#x2F;var&#x2F;lib&#x2F;kubelet&#x2F;kubeadm-flags.env&quot;</span><br><span class="line">[kubelet-start] Writing kubelet configuration to file &quot;&#x2F;var&#x2F;lib&#x2F;kubelet&#x2F;config.yaml&quot;</span><br><span class="line">[kubelet-start] Starting the kubelet</span><br><span class="line">[certs] Using certificateDir folder &quot;&#x2F;etc&#x2F;kubernetes&#x2F;pki&quot;</span><br><span class="line">[certs] Generating &quot;ca&quot; certificate and key</span><br><span class="line">[certs] Generating &quot;apiserver&quot; certificate and key</span><br><span class="line">[certs] apiserver serving cert is signed for DNS names [ubuntu-001 kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.96.0.1 10.0.105.107]</span><br><span class="line">[certs] Generating &quot;apiserver-kubelet-client&quot; certificate and key</span><br><span class="line">[certs] Generating &quot;front-proxy-ca&quot; certificate and key</span><br><span class="line">[certs] Generating &quot;front-proxy-client&quot; certificate and key</span><br><span class="line">[certs] Generating &quot;etcd&#x2F;ca&quot; certificate and key</span><br><span class="line">[certs] Generating &quot;etcd&#x2F;server&quot; certificate and key</span><br><span class="line">[certs] etcd&#x2F;server serving cert is signed for DNS names [ubuntu-001 localhost] and IPs [10.0.105.107 127.0.0.1 ::1]</span><br><span class="line">[certs] Generating &quot;etcd&#x2F;peer&quot; certificate and key</span><br><span class="line">[certs] etcd&#x2F;peer serving cert is signed for DNS names [ubuntu-001 localhost] and IPs [10.0.105.107 127.0.0.1 ::1]</span><br><span class="line">[certs] Generating &quot;etcd&#x2F;healthcheck-client&quot; certificate and key</span><br><span class="line">[certs] Generating &quot;apiserver-etcd-client&quot; certificate and key</span><br><span class="line">[certs] Generating &quot;sa&quot; key and public key</span><br><span class="line">[kubeconfig] Using kubeconfig folder &quot;&#x2F;etc&#x2F;kubernetes&quot;</span><br><span class="line">[kubeconfig] Writing &quot;admin.conf&quot; kubeconfig file</span><br><span class="line">[kubeconfig] Writing &quot;kubelet.conf&quot; kubeconfig file</span><br><span class="line">[kubeconfig] Writing &quot;controller-manager.conf&quot; kubeconfig file</span><br><span class="line">[kubeconfig] Writing &quot;scheduler.conf&quot; kubeconfig file</span><br><span class="line">[control-plane] Using manifest folder &quot;&#x2F;etc&#x2F;kubernetes&#x2F;manifests&quot;</span><br><span class="line">[control-plane] Creating static Pod manifest for &quot;kube-apiserver&quot;</span><br><span class="line">[control-plane] Creating static Pod manifest for &quot;kube-controller-manager&quot;</span><br><span class="line">W0507 17:11:34.680144   14961 manifests.go:225] the default kube-apiserver authorization-mode is &quot;Node,RBAC&quot;; using &quot;Node,RBAC&quot;</span><br><span class="line">[control-plane] Creating static Pod manifest for &quot;kube-scheduler&quot;</span><br><span class="line">W0507 17:11:34.682546   14961 manifests.go:225] the default kube-apiserver authorization-mode is &quot;Node,RBAC&quot;; using &quot;Node,RBAC&quot;</span><br><span class="line">[etcd] Creating static Pod manifest for local etcd in &quot;&#x2F;etc&#x2F;kubernetes&#x2F;manifests&quot;</span><br><span class="line">[wait-control-plane] Waiting for the kubelet to boot up the control plane as static Pods from directory &quot;&#x2F;etc&#x2F;kubernetes&#x2F;manifests&quot;. This can take up to 4m0s</span><br><span class="line">[apiclient] All control plane components are healthy after 20.502602 seconds</span><br><span class="line">[upload-config] Storing the configuration used in ConfigMap &quot;kubeadm-config&quot; in the &quot;kube-system&quot; Namespace</span><br><span class="line">[kubelet] Creating a ConfigMap &quot;kubelet-config-1.18&quot; in namespace kube-system with the configuration for the kubelets in the cluster</span><br><span class="line">[upload-certs] Skipping phase. Please see --upload-certs</span><br><span class="line">[mark-control-plane] Marking the node ubuntu-001 as control-plane by adding the label &quot;node-role.kubernetes.io&#x2F;master&#x3D;&#39;&#39;&quot;</span><br><span class="line">[mark-control-plane] Marking the node ubuntu-001 as control-plane by adding the taints [node-role.kubernetes.io&#x2F;master:NoSchedule]</span><br><span class="line">[bootstrap-token] Using token: 10y2lc.v55p1f47j3lp15gg</span><br><span class="line">[bootstrap-token] Configuring bootstrap tokens, cluster-info ConfigMap, RBAC Roles</span><br><span class="line">[bootstrap-token] configured RBAC rules to allow Node Bootstrap tokens to get nodes</span><br><span class="line">[bootstrap-token] configured RBAC rules to allow Node Bootstrap tokens to post CSRs in order for nodes to get long term certificate credentials</span><br><span class="line">[bootstrap-token] configured RBAC rules to allow the csrapprover controller automatically approve CSRs from a Node Bootstrap Token</span><br><span class="line">[bootstrap-token] configured RBAC rules to allow certificate rotation for all node client certificates in the cluster</span><br><span class="line">[bootstrap-token] Creating the &quot;cluster-info&quot; ConfigMap in the &quot;kube-public&quot; namespace</span><br><span class="line">[kubelet-finalize] Updating &quot;&#x2F;etc&#x2F;kubernetes&#x2F;kubelet.conf&quot; to point to a rotatable kubelet client certificate and key</span><br><span class="line">[addons] Applied essential addon: CoreDNS</span><br><span class="line">[addons] Applied essential addon: kube-proxy</span><br><span class="line"></span><br><span class="line">Your Kubernetes control-plane has initialized successfully!</span><br><span class="line"></span><br><span class="line">To start using your cluster, you need to run the following as a regular user:</span><br><span class="line"></span><br><span class="line">  mkdir -p $HOME&#x2F;.kube</span><br><span class="line">  sudo cp -i &#x2F;etc&#x2F;kubernetes&#x2F;admin.conf $HOME&#x2F;.kube&#x2F;config</span><br><span class="line">  sudo chown $(id -u):$(id -g) $HOME&#x2F;.kube&#x2F;config</span><br><span class="line"></span><br><span class="line">You should now deploy a pod network to the cluster.</span><br><span class="line">Run &quot;kubectl apply -f [podnetwork].yaml&quot; with one of the options listed at:</span><br><span class="line">  https:&#x2F;&#x2F;kubernetes.io&#x2F;docs&#x2F;concepts&#x2F;cluster-administration&#x2F;addons&#x2F;</span><br><span class="line"></span><br><span class="line">Then you can join any number of worker nodes by running the following on each as root:</span><br><span class="line"></span><br><span class="line">kubeadm join 10.0.105.107:6443 --token 10y2lc.v55p1f47j3lp15gg \</span><br><span class="line">    --discovery-token-ca-cert-hash sha256:1093b027cf31d755dcaa7109ba890962c140e2d6e9c46bf4207a0c519ce7bf36 </span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æŒ‰ç…§kubeadm initæˆåŠŸåæ‰“å°æç¤ºï¼Œç»§ç»­æ“ä½œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p $HOME&#x2F;.kube</span><br><span class="line">sudo cp -i &#x2F;etc&#x2F;kubernetes&#x2F;admin.conf $HOME&#x2F;.kube&#x2F;config</span><br><span class="line">sudo chown $(id -u):$(id -g) $HOME&#x2F;.kube&#x2F;config</span><br></pre></td></tr></table></figure><p>kubectl get nodesæŸ¥è¯¢åˆ°èŠ‚ç‚¹å¤„äºNotReadyçŠ¶æ€ï¼Œæ˜¯å› ä¸ºç½‘ç»œæ’ä»¶è¿˜æœªå°±ä½ï¼Œä¹Ÿå°±æ˜¯è¿™é‡Œè¦æ±‚è¿è¡Œçš„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">You should now deploy a pod network to the cluster.</span><br><span class="line">Run &quot;kubectl apply -f [podnetwork].yaml&quot; with one of the options listed at:</span><br><span class="line">https:&#x2F;&#x2F;kubernetes.io&#x2F;docs&#x2F;concepts&#x2F;cluster-administration&#x2F;addons&#x2F;</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦æš‚æ—¶å¿½ç•¥è®©èŠ‚ç‚¹Readyï¼Œå°†å¦‚ä¸‹æ–‡ä»¶çš„â€“network-plugin=cniå­—æ®µå»æ‰, (è¯¥æ–‡ä»¶æ˜¯åœ¨kubeadm initæˆ–è€…kubeadm joinè¿‡ç¨‹ä¸­ç”Ÿæˆçš„), ä¿®æ”¹å®Œåé‡å¯kubeletå³å¯(systemctl restart kubelet)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu-001:~# cat &#x2F;var&#x2F;lib&#x2F;kubelet&#x2F;kubeadm-flags.env</span><br><span class="line">KUBELET_KUBEADM_ARGS&#x3D;&quot;--cgroup-driver&#x3D;cgroupfs --network-plugin&#x3D;cni --pod-infra-container-image&#x3D;registry.aliyuncs.com&#x2F;google_containers&#x2F;pause:3.2 --resolv-conf&#x3D;&#x2F;run&#x2F;systemd&#x2F;resolve&#x2F;resolv.conf&quot;</span><br></pre></td></tr></table></figure><p>å®‰è£…flannelï¼Œkubectl apply -f kube-flannel.yaml</p><h2 id="7ã€join-nodeèŠ‚ç‚¹"><a href="#7ã€join-nodeèŠ‚ç‚¹" class="headerlink" title="7ã€join nodeèŠ‚ç‚¹"></a>7ã€join nodeèŠ‚ç‚¹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu-002:~# kubeadm join 10.0.105.107:6443 --token 10y2lc.v55p1f47j3lp15gg --discovery-token-ca-cert-hash sha256:1093b027cf31d755dcaa7109ba890962c140e2d6e9c46bf4207a0c519ce7bf36</span><br><span class="line">W0507 17:16:18.524687   26000 join.go:346] [preflight] WARNING: JoinControlPane.controlPlane settings will be ignored when control-plane flag is not set.</span><br><span class="line">[preflight] Running pre-flight checks</span><br><span class="line">[WARNING IsDockerSystemdCheck]: detected &quot;cgroupfs&quot; as the Docker cgroup driver. The recommended driver is &quot;systemd&quot;. Please follow the guide at https:&#x2F;&#x2F;kubernetes.io&#x2F;docs&#x2F;setup&#x2F;cri&#x2F;</span><br><span class="line">[preflight] Reading configuration from the cluster...</span><br><span class="line">[preflight] FYI: You can look at this config file with &#39;kubectl -n kube-system get cm kubeadm-config -oyaml&#39;</span><br><span class="line">[kubelet-start] Downloading configuration for the kubelet from the &quot;kubelet-config-1.18&quot; ConfigMap in the kube-system namespace</span><br><span class="line">[kubelet-start] Writing kubelet configuration to file &quot;&#x2F;var&#x2F;lib&#x2F;kubelet&#x2F;config.yaml&quot;</span><br><span class="line">[kubelet-start] Writing kubelet environment file with flags to file &quot;&#x2F;var&#x2F;lib&#x2F;kubelet&#x2F;kubeadm-flags.env&quot;</span><br><span class="line">[kubelet-start] Starting the kubelet</span><br><span class="line">[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...</span><br><span class="line"></span><br><span class="line">This node has joined the cluster:</span><br><span class="line">* Certificate signing request was sent to apiserver and a response was received.</span><br><span class="line">* The Kubelet was informed of the new secure connection details.</span><br><span class="line"></span><br><span class="line">Run &#39;kubectl get nodes&#39; on the control-plane to see this node join the cluster.</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æŸ¥è¯¢æ‰€æœ‰nodeåŠpodçŠ¶æ€"><a href="#æŸ¥è¯¢æ‰€æœ‰nodeåŠpodçŠ¶æ€" class="headerlink" title="æŸ¥è¯¢æ‰€æœ‰nodeåŠpodçŠ¶æ€"></a>æŸ¥è¯¢æ‰€æœ‰nodeåŠpodçŠ¶æ€</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubectl get node -o wide</span><br><span class="line">kubectl get pod --all-namespaces -o wide</span><br></pre></td></tr></table></figure><h2 id="å¢åŠ kubectlå‘½ä»¤è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½"><a href="#å¢åŠ kubectlå‘½ä»¤è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½" class="headerlink" title="å¢åŠ kubectlå‘½ä»¤è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½"></a>å¢åŠ kubectlå‘½ä»¤è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source &lt;(kubectl completion bash)</span><br></pre></td></tr></table></figure><h2 id="é»˜è®¤masterèŠ‚ç‚¹ä¸ä¼šè°ƒåº¦podï¼Œå»æ‰æ­¤é™åˆ¶-å¯é€‰åš"><a href="#é»˜è®¤masterèŠ‚ç‚¹ä¸ä¼šè°ƒåº¦podï¼Œå»æ‰æ­¤é™åˆ¶-å¯é€‰åš" class="headerlink" title="é»˜è®¤masterèŠ‚ç‚¹ä¸ä¼šè°ƒåº¦podï¼Œå»æ‰æ­¤é™åˆ¶(å¯é€‰åš)"></a>é»˜è®¤masterèŠ‚ç‚¹ä¸ä¼šè°ƒåº¦podï¼Œå»æ‰æ­¤é™åˆ¶(å¯é€‰åš)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl taint node ubuntu-001 node-role.kubernetes.io&#x2F;master:NoSchedule-</span><br></pre></td></tr></table></figure><p>ubuntu-001ä¸ºä¸»æœºå</p><h2 id="nodeèŠ‚ç‚¹ROLESé»˜è®¤æ˜¾ç¤ºnoneï¼Œå°†å…¶ä¿®æ”¹ä¸ºæ˜¾ç¤ºworker-å¯é€‰åš"><a href="#nodeèŠ‚ç‚¹ROLESé»˜è®¤æ˜¾ç¤ºnoneï¼Œå°†å…¶ä¿®æ”¹ä¸ºæ˜¾ç¤ºworker-å¯é€‰åš" class="headerlink" title="nodeèŠ‚ç‚¹ROLESé»˜è®¤æ˜¾ç¤ºnoneï¼Œå°†å…¶ä¿®æ”¹ä¸ºæ˜¾ç¤ºworker(å¯é€‰åš)"></a>nodeèŠ‚ç‚¹ROLESé»˜è®¤æ˜¾ç¤ºnoneï¼Œå°†å…¶ä¿®æ”¹ä¸ºæ˜¾ç¤ºworker(å¯é€‰åš)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">kubectl label node ubuntu-002 node-role.kubernetes.io&#x2F;worker&#x3D; --overwrite</span><br><span class="line">kubectl label node ubuntu-003 node-role.kubernetes.io&#x2F;worker&#x3D; --overwrite</span><br><span class="line">root@ubuntu-001:~# kubectl get node -o wide</span><br><span class="line">NAME         STATUS   ROLES    AGE   VERSION   INTERNAL-IP    EXTERNAL-IP   OS-IMAGE       KERNEL-VERSION     CONTAINER-RUNTIME</span><br><span class="line">ubuntu-001   Ready    master   16h   v1.18.0   10.0.105.107   &lt;none&gt;        Ubuntu 19.10   5.3.0-51-generic   docker:&#x2F;&#x2F;19.3.8</span><br><span class="line">ubuntu-002   Ready    worker   16h   v1.18.0   10.0.105.21    &lt;none&gt;        Ubuntu 19.10   5.3.0-46-generic   docker:&#x2F;&#x2F;19.3.8</span><br><span class="line">ubuntu-003   Ready    worker   61m   v1.18.0   10.0.105.62    &lt;none&gt;        Ubuntu 19.10   5.3.0-46-generic   docker:&#x2F;&#x2F;19.3.8</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨Ubuntuç³»ç»Ÿä¸Šæ­å»ºKubernetesé›†ç¾¤ã€‚

å‰æï¼š
1ã€æ“ä½œç³»ç»ŸUbuntu 19.10

1
2
3
4
5
6
7
8


root@ubuntu-001:~# uname -a
Linux ubuntu-001 5.3.0-51-generic #44-Ubuntu SMP Wed Apr 22 21:09:44 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
root@ubuntu-001:~# lsb_release -a
No LSB modules are available.
Distributor ID:	Ubuntu
D</summary>
    
    
    
    <category term="kubernetes" scheme="https://yushanjin.github.io/categories/kubernetes/"/>
    
    
    <category term="äº‘è®¡ç®—" scheme="https://yushanjin.github.io/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/"/>
    
    <category term="è¾¹ç¼˜è®¡ç®—" scheme="https://yushanjin.github.io/tags/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97/"/>
    
    <category term="kubernetes" scheme="https://yushanjin.github.io/tags/kubernetes/"/>
    
  </entry>
  
</feed>
